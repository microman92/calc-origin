import{i as e,n as t,r as n,t as r}from"./index-D2EKJX5I.js";import{d as i,l as a,s as o,t as s}from"./useHeatTransferCoefficient-CYqBK-kg.js";import{r as c,t as l}from"./condensation-C_SvT-l6.js";import{n as u,t as d}from"./LabeledSelect-BPqtQYiY.js";import{i as f,n as p,t as m}from"./CalculateHModal-BneGewue.js";var h=e(n()),g=e(r()),_=()=>{let e=t(),[n,r]=(0,h.useState)(25),[_,v]=(0,h.useState)(-5),[y,b]=(0,h.useState)(`ROKAFLEX ST`),[x,S]=(0,h.useState)(9),[C,w]=(0,h.useState)(60),[T]=(0,h.useState)(!0),[E]=(0,h.useState)(!0),[D,O]=(0,h.useState)(!1),[k,A]=(0,h.useState)(!1),[j,M]=(0,h.useState)({calculationType:`inside`,orientation:`horizontal`,emissivity:.93,sheetHeightM:1,cladding:``}),N=i,P=(0,h.useMemo)(()=>Object.keys(o),[]),[F,I]=(0,h.useState)(null);return(0,g.jsxs)(`div`,{className:i.heatLossCalculator,children:[(0,g.jsxs)(`div`,{className:i.heatLossCalculator__container,children:[(0,g.jsx)(`div`,{className:i.heatLossCalculator__header,children:(0,g.jsx)(`h1`,{className:i.heatLossCalculator__header_title,children:`Condensation Prevention for Sheets`})}),(0,g.jsxs)(`div`,{className:i.heatLossCalculator__content,children:[(0,g.jsxs)(`div`,{className:i.heatLossCalculator__section,children:[(0,g.jsx)(`h2`,{className:i.heatLossCalculator__section_title,children:`Parameters`}),(0,g.jsxs)(`div`,{className:i.heatLossCalculator__fields,children:[(0,g.jsx)(u,{label:`ambient temperature`,helpText:`air around insulation`,unit:`°C`,value:n,onChange:r,styles:N}),(0,g.jsx)(u,{label:`medium temperature`,helpText:`surface/medium temperature`,unit:`°C`,value:_,onChange:v,styles:N}),(0,g.jsx)(d,{label:`insulation material`,helpText:`sets thermal conductivity λ(T)`,value:y,onChange:e=>b(String(e)),options:P.map(e=>({value:e,label:e})),styles:N}),(0,g.jsxs)(`div`,{className:i.heatLossCalculator__field,children:[(0,g.jsx)(`label`,{className:i.heatLossCalculator__field_label,children:`heat transfer coefficient h`}),(0,g.jsx)(`span`,{className:i.helpText,style:{height:`auto`},children:`convection + surface radiation; can be calculated`}),(0,g.jsxs)(`div`,{className:i.heatLossCalculator__field_group,children:[(0,g.jsx)(`input`,{type:`number`,value:x,readOnly:!0,className:`${i.heatLossCalculator__field_input} ${i.heatLossCalculator__field_input_readonly}`,step:`0.001`}),(0,g.jsx)(`button`,{onClick:()=>O(!0),className:`${i.heatLossCalculator__button} ${i.heatLossCalculator__button_success}`,children:`calculate h`})]}),(0,g.jsx)(`span`,{className:i.heatLossCalculator__field_unit,style:{height:`auto`},children:`W/m²K`})]}),(0,g.jsx)(u,{label:`relative humidity (30%-95%)`,helpText:`for dew point calculation, %`,unit:`%`,value:C,onChange:w,styles:N,inputProps:{min:30,max:95,step:.1}})]})]}),F&&(0,g.jsxs)(`div`,{className:i.heatLossCalculator__section,children:[(0,g.jsx)(`h2`,{className:i.heatLossCalculator__section_title,children:`Results`}),(0,g.jsxs)(`div`,{className:i.heatLossCalculator__grid,children:[(0,g.jsxs)(`div`,{className:i.heatLossCalculator__field,children:[(0,g.jsx)(`label`,{className:i.heatLossCalculator__field_label,children:`dew point`}),(0,g.jsx)(`span`,{className:i.helpText,style:{height:`auto`},children:`condensation start temperature at current humidity`}),(0,g.jsx)(`input`,{type:`text`,value:F.dewpointTemperature.toFixed(2),readOnly:!0,className:`${i.heatLossCalculator__fieldInput} ${i.heatLossCalculator__fieldInput}--readonly`}),(0,g.jsx)(`span`,{className:i.heatLossCalculator__field_unit,children:`°C`})]}),(0,g.jsxs)(`div`,{className:i.heatLossCalculator__field,children:[(0,g.jsx)(`label`,{className:i.heatLossCalculator__field_label,children:`minimum insulation thickness`}),(0,g.jsx)(`span`,{className:i.helpText,style:{height:`auto`},children:`thickness to prevent condensation (Tsurf ≥ Tdew)`}),(0,g.jsx)(`input`,{type:`text`,value:F.minimumThickness.toFixed(1),readOnly:!0,className:`${i.heatLossCalculator__fieldInput} ${i.heatLossCalculator__fieldInput}--readonly`}),(0,g.jsx)(`span`,{className:i.heatLossCalculator__field_unit,children:`mm`})]}),(0,g.jsxs)(`div`,{className:i.heatLossCalculator__field,children:[(0,g.jsx)(`label`,{className:i.heatLossCalculator__field_label,children:`nominal thickness`}),(0,g.jsx)(`span`,{className:i.helpText,style:{height:`auto`},children:`nearest available thickness from series`}),(0,g.jsx)(`input`,{type:`text`,value:`${F.nominalThickness} mm`,readOnly:!0,className:`${i.heatLossCalculator__fieldInput} ${i.heatLossCalculator__fieldInput}--readonly`})]})]})]}),(0,g.jsx)(a,{onCalculate:()=>{try{let e=l(n,C),t=p(n,_,e,y,x),r=f(t);I({dewpointTemperature:e,minimumThickness:t,nominalThickness:r})}catch(e){e instanceof Error?alert(e.message):alert(`Произошла ошибка при расчёте. Проверьте входные параметры.`)}},onHelp:()=>A(!0),onBack:()=>{r(25),v(-5),b(`ROKAFLEX ST`),S(9),w(60),I(null),O(!1),A(!1),M({calculationType:`inside`,orientation:`horizontal`,emissivity:.93,sheetHeightM:1,cladding:``}),e(`/`)},styles:i,calculateLabel:`Calculate`})]})]}),(0,g.jsx)(m,{isOpen:D,onClose:()=>O(!1),ambientTemp:n,mediumTemp:_,material:y,modalParams:j,setModalParams:M,onCalculate:()=>{let e=s({ambientTemp:n,mediumTemp:_,tubeDiameter:j.sheetHeightM*1e3,orientation:j.orientation,emissivity:j.emissivity,calculationType:j.calculationType,useSimplifiedFormula:!1,applySafetyFactor:T,useAdvancedSheetsAlgorithm:E});S(Number(e.toFixed(3))),O(!1)},applySafetyFactor:T,setApplySafetyFactor:void 0,useAdvancedAlgorithm:!1,setUseAdvancedAlgorithm:void 0,useAdvancedSheetsAlgorithm:E,setUseAdvancedSheetsAlgorithm:void 0,relativeHumidity:C}),(0,g.jsx)(c,{isOpen:k,onClose:()=>A(!1)})]})};export{_ as default};