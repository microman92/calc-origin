import{i as e,r as t,t as n}from"./index-D2EKJX5I.js";import{a as r,s as i,u as a}from"./useHeatTransferCoefficient-CYqBK-kg.js";const o=(e,t)=>{let n=i[t];if(!n)return .036;let r=n.lambda,a=Object.keys(r).map(Number).sort((e,t)=>e-t);if(String(e)in r)return r[String(e)];let o=r[String(a[0])]??.036;for(let t=0;t<a.length-1;t++)if(e>=a[t]&&e<=a[t+1]){let n=a[t],i=a[t+1],s=r[String(n)],c=r[String(i)];o=s+(c-s)*(e-n)/(i-n);break}return o},s=(e,t,n)=>{if(e<=0)throw Error(`Коэффициент теплопередачи h должен быть положительным`);if(t<=0)throw Error(`Толщина изоляции должна быть положительной`);if(n<=0)throw Error(`Теплопроводность lambda должна быть положительной`);let r=1/e,i=t/1e3/n;return 1/(r+i)},c=(e,t,n,r,i,a,c)=>{if(r<=0)throw Error(`Площадь поверхности должна быть положительной`);if(n<=0)throw Error(`Толщина изоляции должна быть положительной`);if(a<=0)throw Error(`Коэффициент теплопередачи h должен быть положительным`);let l=e+5,u=o(l,i),d=s(a,n,u),f=Math.abs(t-e),p=d*r*f,m=1.32*Math.abs(t-e)**.33,h=(Math.max(m,1/.13)+.93*1.428)*r*f,g=(h-p)/h*100,_=p/1e3*c;return{meanLambda:u,U:d,Q:p,decrease:g,costPerHour:_}},l=(e,t,n,r,i,a=.3)=>{if(i<=0)throw Error(`Коэффициент теплопередачи h должен быть положительным`);if(n>=e)throw Error(`Точка росы (${n.toFixed(1)}°C) не может быть выше или равна температуре окружающей среды (${e.toFixed(1)}°C). Проверьте параметры влажности.`);let s=n+a;if(s>e)throw Error(`Невозможно предотвратить конденсацию: требуемая температура поверхности (${s.toFixed(1)}°C) выше температуры окружающей среды (${e.toFixed(1)}°C). Уменьшите влажность или увеличьте температуру окружающей среды.`);let c=(e+t)/2,l=o(c,r),u=1/i,d=n=>{let r=n/1e3/l+u,i=(t-e)/r;return e+i*u},f=.01;if(d(100)<s)return 50;let p=.01,m=100;for(;m-p>f;){let e=(p+m)/2;d(e)>=s?m=e:p=e}let h=Math.ceil(m/f)*f;return Number(h.toFixed(2))},u=e=>e>37.99?50:e>29.99?40:e>22.99?32:e>16.99?25:e>10.99?19:e>7?13:e>4.99?9:6;t();var d=e(n()),f=({isOpen:e,onClose:t,ambientTemp:n,mediumTemp:i,material:o,modalParams:s,setModalParams:c,onCalculate:l,relativeHumidity:u})=>e?(0,d.jsx)(`div`,{className:a.modal,children:(0,d.jsxs)(`div`,{className:a.modal__container,children:[(0,d.jsx)(`div`,{className:a.modal__header,children:(0,d.jsx)(`h1`,{className:a.modal__header_title,children:`Calculation of Heat Transfer Coefficient h`})}),(0,d.jsxs)(`div`,{className:a.modal__content,children:[(0,d.jsxs)(`div`,{className:a.modal__section,children:[(0,d.jsx)(`h2`,{className:a.modal__section_title,children:`Calculation Type`}),(0,d.jsx)(`div`,{className:a.modal__field,children:(0,d.jsxs)(`div`,{className:a.modal__field_radioGroup,children:[(0,d.jsxs)(`label`,{className:a.modal__field_radio,children:[(0,d.jsx)(`input`,{type:`radio`,name:`calculationType`,value:`inside`,checked:s.calculationType===`inside`,onChange:e=>c({...s,calculationType:e.target.value}),className:a.modal__field_radio_input}),(0,d.jsx)(`span`,{className:a.modal__field_radio_label,children:`inside`})]}),(0,d.jsxs)(`label`,{className:a.modal__field_radio,children:[(0,d.jsx)(`input`,{type:`radio`,name:`calculationType`,value:`outside`,checked:s.calculationType===`outside`,onChange:e=>c({...s,calculationType:e.target.value}),className:a.modal__field_radio_input}),(0,d.jsx)(`span`,{className:a.modal__field_radio_label,children:`outside`})]})]})})]}),(0,d.jsxs)(`div`,{className:a.modal__section,children:[(0,d.jsx)(`h2`,{className:a.modal__section_title,children:`Parameters`}),(0,d.jsxs)(`div`,{className:a.modal__grid,children:[(0,d.jsxs)(`div`,{className:a.modal__field,children:[(0,d.jsx)(`label`,{className:a.modal__field_label,children:`ambient temperature`}),(0,d.jsx)(`input`,{type:`number`,value:n.toFixed(2),readOnly:!0,className:`${a.modal__field_input} ${a.modal__field_input_readonly}`}),(0,d.jsx)(`span`,{className:a.modal__field_unit,children:`°C`})]}),(0,d.jsxs)(`div`,{className:a.modal__field,children:[(0,d.jsx)(`label`,{className:a.modal__field_label,children:`temperature of medium`}),(0,d.jsx)(`input`,{type:`number`,value:i.toFixed(2),readOnly:!0,className:`${a.modal__field_input} ${a.modal__field_input_readonly}`}),(0,d.jsx)(`span`,{className:a.modal__field_unit,children:`°C`})]}),(0,d.jsxs)(`div`,{className:a.modal__field,children:[(0,d.jsx)(`label`,{className:a.modal__field_label,children:`Insulation material`}),(0,d.jsx)(`input`,{type:`text`,value:o,readOnly:!0,className:`${a.modal__field_input} ${a.modal__field_input_readonly}`})]}),u!==void 0&&(0,d.jsxs)(`div`,{className:a.modal__field,children:[(0,d.jsx)(`label`,{className:a.modal__field_label,children:`rel. humidity (30%-95%)`}),(0,d.jsx)(`input`,{type:`number`,value:u.toFixed(2),readOnly:!0,className:`${a.modal__field_input} ${a.modal__field_input_readonly}`,min:`30`,max:`95`,step:`0.1`}),(0,d.jsx)(`span`,{className:a.modal__field_unit,children:`%`})]})]})]}),(0,d.jsxs)(`div`,{className:a.modal__section,children:[(0,d.jsx)(`h2`,{className:a.modal__section_title,children:`Additional Settings`}),(0,d.jsxs)(`div`,{className:a.modal__grid,children:[(0,d.jsxs)(`div`,{className:a.modal__field,children:[(0,d.jsx)(`label`,{className:a.modal__field_label,children:`emission coefficient (see help)`}),(0,d.jsx)(`input`,{type:`number`,min:`0`,max:`1`,step:`0.01`,value:s.emissivity,onChange:e=>c({...s,emissivity:+e.target.value}),className:a.modal__field_input})]}),(0,d.jsxs)(`div`,{className:a.modal__field,children:[(0,d.jsx)(`label`,{className:a.modal__field_label,children:`sheet height (m)`}),(0,d.jsx)(`input`,{type:`number`,min:`0.01`,step:`0.01`,value:s.sheetHeightM.toFixed(2),onChange:e=>c({...s,sheetHeightM:+e.target.value}),className:a.modal__field_input})]}),(0,d.jsxs)(`div`,{className:a.modal__field,children:[(0,d.jsx)(`label`,{className:a.modal__field_label,children:`type of cladding`}),(0,d.jsxs)(`select`,{className:a.modal__field_input,value:s.cladding??``,onChange:e=>c({...s,cladding:e.target.value}),children:[(0,d.jsx)(`option`,{value:``,children:`select`}),r.map(e=>(0,d.jsx)(`option`,{value:e.value,children:e.label},e.value))]})]})]})]}),(0,d.jsx)(`div`,{style:{display:`none`},children:(0,d.jsxs)(`div`,{className:a.modal__field,children:[(0,d.jsx)(`label`,{className:a.modal__field_label,children:`sheet orientation`}),(0,d.jsxs)(`div`,{className:a.modal__field_radioGroup,children:[(0,d.jsxs)(`label`,{className:a.modal__field_radio,children:[(0,d.jsx)(`input`,{type:`radio`,name:`orientation`,value:`vertical`,checked:s.orientation===`vertical`,onChange:e=>c({...s,orientation:e.target.value}),className:a.modal__field_radio_input}),(0,d.jsx)(`span`,{className:a.modal__field_radio_label,children:`vertical`})]}),(0,d.jsxs)(`label`,{className:a.modal__field_radio,children:[(0,d.jsx)(`input`,{type:`radio`,name:`orientation`,value:`horizontal`,checked:s.orientation===`horizontal`,onChange:e=>c({...s,orientation:e.target.value}),className:a.modal__field_radio_input}),(0,d.jsx)(`span`,{className:a.modal__field_radio_label,children:`horizontal`})]})]})]})}),(0,d.jsxs)(`div`,{className:a.modal__controls,children:[(0,d.jsx)(`button`,{onClick:l,className:`${a.modal__button} ${a.modal__button_primary}`,children:`Continue`}),(0,d.jsx)(`button`,{onClick:()=>{},className:`${a.modal__button} ${a.modal__button_secondary}`,children:`Help`}),(0,d.jsx)(`button`,{onClick:t,className:`${a.modal__button} ${a.modal__button_secondary}`,children:`Cancel`})]})]})]})}):null;export{u as i,l as n,c as r,f as t};